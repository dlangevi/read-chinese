<template>
  <div>
    <n-space vertical>
      <n-slider @update:value="submitChange" v-model:value="value" :step="1" />
      <n-input-number
        @update:value="submitChange"
        v-model:value="value"
        size="small" />
    </n-space>
  </div>
  <n-tooltip v-if="setting.tooltip" placement="right" trigger="hover">
    <template #trigger>
      <n-icon size="20">
        <information-circle />
      </n-icon>
    </template>
    <span> {{setting.tooltip}}</span>
  </n-tooltip>
</template>

<script setup lang="ts">
import { NTooltip, NIcon, NSpace, NSlider, NInputNumber } from 'naive-ui';
import { ref } from 'vue';
import { InformationCircle } from '@vicons/ionicons5';

const emit = defineEmits(['update']);

const props = defineProps({
  setting: {
    type: Object,
    required: true,
  },
});

const value = ref(props.setting.read());

function submitChange(newValue) {
  props.setting.write(newValue);
  emit('update', newValue);
}

</script>
